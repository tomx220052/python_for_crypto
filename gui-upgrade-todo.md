# GUI å‡ç´šè¨ˆç•«æ–‡æª”

## ğŸ“‹ å°ˆæ¡ˆç›®æ¨™

1. **ä¿æŒç¾æœ‰å‘½ä»¤åˆ—ç‰ˆæœ¬**ï¼ˆçµ¦é€²éšç”¨æˆ¶ã€è‡ªå‹•åŒ–è…³æœ¬ä½¿ç”¨ï¼‰
2. **æ–°å¢ GUI ç‰ˆæœ¬**ï¼ˆçµ¦ä¸€èˆ¬ Windows ç”¨æˆ¶ä½¿ç”¨ï¼‰
3. **ä¸€éµè·¨å¹³å°æ‰“åŒ…**ï¼ˆMac/Windows åŒæ™‚æ”¯æ´ï¼‰
4. **å…±ç”¨æ ¸å¿ƒé‚è¼¯**ï¼ˆé¿å…ä»£ç¢¼é‡è¤‡ï¼‰

---

## ğŸ—ï¸ æ–°æ¶æ§‹è¨­è¨ˆ

### æª”æ¡ˆçµæ§‹ï¼ˆæ”¹é€ å¾Œï¼‰

```
python_for_crypto2/
â”œâ”€â”€ src/                          # æ–°å¢ï¼šæ ¸å¿ƒé‚è¼¯æ¨¡çµ„åŒ–
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ core.py                   # CoinGeckoPriceFetcher é¡åˆ¥
â”‚   â”œâ”€â”€ utils.py                  # å…±ç”¨å·¥å…·å‡½æ•¸
â”‚   â””â”€â”€ constants.py              # å¸¸æ•¸å®šç¾©ï¼ˆå¹£ç¨®åˆ—è¡¨ã€æ—¥æœŸé™åˆ¶ç­‰ï¼‰
â”‚
â”œâ”€â”€ crypto_price_tool.py          # ä¿ç•™ï¼šå‘½ä»¤åˆ—ç‰ˆæœ¬
â”œâ”€â”€ crypto_price_gui.py           # æ–°å¢ï¼šGUI ç‰ˆæœ¬ä¸»ç¨‹å¼
â”‚
â”œâ”€â”€ requirements.txt              # æ›´æ–°ï¼šåŠ å…¥ customtkinter
â”œâ”€â”€ requirements-dev.txt          # æ–°å¢ï¼šé–‹ç™¼ç”¨ä¾è³´
â”‚
â”œâ”€â”€ build_spec/                   # æ–°å¢ï¼šæ‰“åŒ…é…ç½®ç›®éŒ„
â”‚   â”œâ”€â”€ cli.spec                  # å‘½ä»¤åˆ—ç‰ˆæœ¬æ‰“åŒ…é…ç½®
â”‚   â”œâ”€â”€ gui.spec                  # GUI ç‰ˆæœ¬æ‰“åŒ…é…ç½®
â”‚   â”œâ”€â”€ build_macos.sh            # Mac æ‰“åŒ…è…³æœ¬
â”‚   â””â”€â”€ build_windows.bat         # Windows æ‰“åŒ…è…³æœ¬
â”‚
â”œâ”€â”€ assets/                       # æ–°å¢ï¼šGUI è³‡æºæª”
â”‚   â”œâ”€â”€ icon.ico                  # Windows åœ–ç¤º
â”‚   â”œâ”€â”€ icon.icns                 # macOS åœ–ç¤º
â”‚   â””â”€â”€ logo.png                  # APP å…§ logo
â”‚
â”œâ”€â”€ tests/                        # æ–°å¢ï¼šå–®å…ƒæ¸¬è©¦
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ test_core.py
â”‚   â””â”€â”€ test_utils.py
â”‚
â”œâ”€â”€ dist/                         # æ‰“åŒ…è¼¸å‡º
â”‚   â”œâ”€â”€ macos/
â”‚   â”‚   â”œâ”€â”€ crypto_price_tool     # CLI ç‰ˆ
â”‚   â”‚   â””â”€â”€ CryptoPriceTool.app   # GUI ç‰ˆï¼ˆ.app bundleï¼‰
â”‚   â””â”€â”€ windows/
â”‚       â”œâ”€â”€ crypto_price_tool.exe # CLI ç‰ˆ
â”‚       â””â”€â”€ CryptoPriceTool.exe   # GUI ç‰ˆ
â”‚
â”œâ”€â”€ README.md                     # æ›´æ–°ï¼šåŠ å…¥ GUI ä½¿ç”¨èªªæ˜
â”œâ”€â”€ PACKAGING.md                  # æ›´æ–°ï¼šè·¨å¹³å°æ‰“åŒ…æŒ‡å—
â”œâ”€â”€ CHANGELOG.md                  # æ–°å¢ï¼šç‰ˆæœ¬æ›´æ–°è¨˜éŒ„
â””â”€â”€ gui-upgrade-todo.md           # æœ¬æ–‡æª”
```

---

## ğŸ¨ GUI è¨­è¨ˆæ–¹æ¡ˆ

### é¸ç”¨æŠ€è¡“ï¼šCustomTkinter

**å„ªé»ï¼š**
- âœ… ç¾ä»£åŒ– UIï¼ˆé¡ä¼¼ macOS Big Sur é¢¨æ ¼ï¼‰
- âœ… è·¨å¹³å°å®Œç¾æ”¯æ´
- âœ… æ‰“åŒ…æª”æ¡ˆå°ï¼ˆ15-25 MBï¼‰
- âœ… å­¸ç¿’æ›²ç·šå¹³ç·©
- âœ… å®Œå…¨ Python åŸç”Ÿï¼Œç„¡éœ€é¡å¤–ä¾è³´
- âœ… èˆ‡ PyInstaller å®Œç¾æ•´åˆ

### GUI åŠŸèƒ½æ¨¡çµ„åŠƒåˆ†

```
CryptoPriceGUI (ä¸»è¦–çª—)
â”‚
â”œâ”€â”€ InputPanel (è¼¸å…¥å€)
â”‚   â”œâ”€â”€ CoinInput (å¹£ç¨®æ–‡å­—è¼¸å…¥æ¡†) â† ä½¿ç”¨è€…è¦æ±‚æ”¹ç‚ºå¡«ç©º
â”‚   â”œâ”€â”€ DatePicker (æ—¥æœŸé¸æ“‡å™¨)
â”‚   â””â”€â”€ APIKeyInput (API Key è¼¸å…¥æ¡†)
â”‚
â”œâ”€â”€ QueryPanel (æŸ¥è©¢æ§åˆ¶)
â”‚   â”œâ”€â”€ QueryButton (é–‹å§‹æŸ¥è©¢æŒ‰éˆ•)
â”‚   â””â”€â”€ ProgressBar (é€²åº¦æ¢)
â”‚
â”œâ”€â”€ ResultPanel (çµæœé¡¯ç¤ºå€)
â”‚   â”œâ”€â”€ PriceTable (åƒ¹æ ¼è¡¨æ ¼)
â”‚   â”œâ”€â”€ StatisticsCard (çµ±è¨ˆå¡ç‰‡ï¼šå¹³å‡åƒ¹ã€æœ€é«˜ã€æœ€ä½)
â”‚   â””â”€â”€ ChartButton (æŸ¥çœ‹åœ–è¡¨æŒ‰éˆ• - v2.1)
â”‚
â”œâ”€â”€ ActionPanel (æ“ä½œæŒ‰éˆ•å€)
â”‚   â”œâ”€â”€ ExportCSVButton
â”‚   â”œâ”€â”€ CopyButton (è¤‡è£½åˆ°å‰ªè²¼ç°¿ - v2.1)
â”‚   â””â”€â”€ ClearButton (æ¸…ç©ºçµæœ)
â”‚
â””â”€â”€ StatusBar (ç‹€æ…‹åˆ—)
    â”œâ”€â”€ StatusMessage
    â””â”€â”€ APIStatus (é¡¯ç¤ºæ˜¯å¦ä½¿ç”¨ Pro API)
```

### ç•«é¢è¨­è¨ˆï¼ˆMVP ç‰ˆæœ¬ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’° è™›æ“¬å¹£åƒ¹æ ¼æŸ¥è©¢å·¥å…· v2.0 MVP              [_][â–¡][Ã—] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€ æŸ¥è©¢è¨­å®š â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                                   â”‚    â”‚
â”‚  â”‚  å¹£ç¨® IDï¼š   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚
â”‚  â”‚             â”‚ bitcoin                         â”‚ â”‚    â”‚
â”‚  â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚
â”‚  â”‚             ä¾‹å¦‚ï¼šbitcoin, ethereum, tether     â”‚    â”‚
â”‚  â”‚                                                   â”‚    â”‚
â”‚  â”‚  æ—¥æœŸå€é–“ï¼š  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  è‡³  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚             â”‚ 2025-11-10   â”‚    â”‚ 2025-11-13   â”‚    â”‚
â”‚  â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”‚             â„¹ï¸  æœ€å¤š 100 å¤©                         â”‚    â”‚
â”‚  â”‚                                                   â”‚    â”‚
â”‚  â”‚  API Keyï¼š   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚
â”‚  â”‚  (é¸å¡«)      â”‚ ********************            â”‚ â”‚    â”‚
â”‚  â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚
â”‚  â”‚             ğŸ”’ æ‚¨çš„ API Key ä¸æœƒè¢«å„²å­˜          â”‚    â”‚
â”‚  â”‚                                                   â”‚    â”‚
â”‚  â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚    â”‚
â”‚  â”‚             â”‚   ğŸ” é–‹å§‹æŸ¥è©¢     â”‚                â”‚    â”‚
â”‚  â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚    â”‚
â”‚  â”‚                                                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€ æŸ¥è©¢çµæœ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                                   â”‚    â”‚
â”‚  â”‚  æŸ¥è©¢é€²åº¦ï¼š  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  80%     â”‚    â”‚
â”‚  â”‚                                                   â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚    â”‚
â”‚  â”‚  â”‚ æ—¥æœŸ         â”‚ åƒ¹æ ¼ (USD)     â”‚ ç‹€æ…‹   â”‚     â”‚    â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚    â”‚
â”‚  â”‚  â”‚ 2025-11-10   â”‚ $102,961       â”‚ âœ“      â”‚     â”‚    â”‚
â”‚  â”‚  â”‚ 2025-11-11   â”‚ $105,909       â”‚ âœ“      â”‚     â”‚    â”‚
â”‚  â”‚  â”‚ 2025-11-12   â”‚ æŸ¥è©¢ä¸­...      â”‚ â³     â”‚     â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚    â”‚
â”‚  â”‚                                                   â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â”‚ ğŸ“Š å¹³å‡åƒ¹æ ¼  â”‚  â”‚ ğŸ“ˆ æœ€é«˜åƒ¹    â”‚  â”‚ ğŸ“‰ æœ€ä½åƒ¹    â”‚ â”‚
â”‚  â”‚  â”‚  $104,435   â”‚  â”‚  $105,909   â”‚  â”‚  $102,961   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”‚                                                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚  â”‚ ğŸ“¥ åŒ¯å‡ºCSV â”‚  â”‚ ğŸ—‘ï¸ æ¸…ç©º    â”‚                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“¡ å°±ç·’  |  API: Pro âœ“  |  æœ€å¾ŒæŸ¥è©¢: 2025-11-14 14:30    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ æŠ€è¡“å¯¦ä½œç´°ç¯€

### 1. æ ¸å¿ƒé‚è¼¯æ¨¡çµ„åŒ–ï¼ˆsrc/core.pyï¼‰

**ä¿®æ”¹é‡é»ï¼š**
- å¾ `crypto_price_tool.py` æŠ½å‡º `CoinGeckoPriceFetcher`
- æ–°å¢ `progress_callback` åƒæ•¸æ”¯æ´ GUI é€²åº¦æ›´æ–°
- æ–°å¢ `cancel_flag` åƒæ•¸æ”¯æ´å–æ¶ˆæ“ä½œï¼ˆv2.1ï¼‰

```python
def get_range_prices(self, coin_id, from_date, to_date,
                    progress_callback=None,  # æ–°å¢ï¼šé€²åº¦å›èª¿
                    cancel_flag=None):       # æ–°å¢ï¼šå–æ¶ˆæ¨™è¨˜
    # ... åŸæœ‰é‚è¼¯

    # åœ¨æŸ¥è©¢éç¨‹ä¸­èª¿ç”¨å›èª¿
    if progress_callback:
        progress_callback(current=i, total=num_days, date=date_str, price=price)

    # æ”¯æ´å–æ¶ˆæ“ä½œ
    if cancel_flag and cancel_flag.is_set():
        return None
```

### 2. å…±ç”¨å·¥å…·å‡½æ•¸ï¼ˆsrc/utils.pyï¼‰

**åŒ…å«åŠŸèƒ½ï¼š**
- `validate_date()` - æ—¥æœŸé©—è­‰
- `validate_date_range()` - æ—¥æœŸå€é–“é©—è­‰
- `save_to_csv()` - CSV åŒ¯å‡º
- `calculate_statistics()` - çµ±è¨ˆè¨ˆç®—ï¼ˆå¹³å‡ã€æœ€é«˜ã€æœ€ä½ï¼‰

### 3. GUI ä¸»ç¨‹å¼æ¶æ§‹ï¼ˆcrypto_price_gui.pyï¼‰

**æ ¸å¿ƒæŠ€è¡“é»ï¼š**

```python
import customtkinter as ctk
import threading

class CryptoPriceGUI(ctk.CTk):
    def on_query_clicked(self):
        """æŸ¥è©¢æŒ‰éˆ•é»æ“Šäº‹ä»¶"""
        # åœ¨æ–°åŸ·è¡Œç·’ä¸­åŸ·è¡ŒæŸ¥è©¢ï¼ˆé¿å… UI å‡çµï¼‰
        thread = threading.Thread(target=self.perform_query)
        thread.start()

    def perform_query(self):
        """åŸ·è¡ŒæŸ¥è©¢ï¼ˆåœ¨èƒŒæ™¯åŸ·è¡Œç·’ï¼‰"""
        fetcher = CoinGeckoPriceFetcher(api_key=self.api_key)
        prices = fetcher.get_range_prices(
            self.coin_id,
            self.from_date,
            self.to_date,
            progress_callback=self.update_progress  # æ›´æ–°é€²åº¦æ¢
        )
        # åœ¨ä¸»åŸ·è¡Œç·’æ›´æ–° UI
        self.after(0, lambda: self.display_results(prices))
```

---

## ğŸ“¦ è·¨å¹³å°æ‰“åŒ…ç­–ç•¥

### PyInstaller é…ç½®æ–¹æ¡ˆ

#### GUI ç‰ˆæœ¬é…ç½®ï¼ˆbuild_spec/gui.specï¼‰

```python
# -*- mode: python ; coding: utf-8 -*-
a = Analysis(
    ['crypto_price_gui.py'],
    pathex=[],
    binaries=[],
    datas=[
        ('assets/icon.ico', 'assets'),
        ('assets/icon.icns', 'assets'),
        ('src', 'src'),
    ],
    hiddenimports=[
        'customtkinter',
        'PIL._tkinter_finder',
    ],
    excludes=['matplotlib', 'numpy'],  # æ’é™¤ä¸éœ€è¦çš„å¤§å‹åº«
    optimize=2,
)

exe = EXE(
    pyz,
    a.scripts,
    a.binaries,
    a.datas,
    name='CryptoPriceTool',
    console=False,        # âš ï¸ Windows ä¸é¡¯ç¤ºé»‘è¦–çª—
    icon='assets/icon.ico',
)

# macOS æ‰“åŒ…æˆ .app
if sys.platform == 'darwin':
    app = BUNDLE(
        exe,
        name='CryptoPriceTool.app',
        icon='assets/icon.icns',
        bundle_identifier='com.yourname.cryptopricetool',
    )
```

### æ‰“åŒ…è…³æœ¬

#### Windows æ‰“åŒ…ï¼ˆbuild_spec/build_windows.batï¼‰

```batch
@echo off
pip install -r requirements.txt
pyinstaller build_spec/cli.spec --clean
pyinstaller build_spec/gui.spec --clean
mkdir dist\windows
move dist\crypto_price_tool.exe dist\windows\
move dist\CryptoPriceTool.exe dist\windows\
echo æ‰“åŒ…å®Œæˆï¼
pause
```

#### macOS æ‰“åŒ…ï¼ˆbuild_spec/build_macos.shï¼‰

```bash
#!/bin/bash
pip3 install -r requirements.txt
pyinstaller build_spec/cli.spec --clean
pyinstaller build_spec/gui.spec --clean
mkdir -p dist/macos
mv dist/crypto_price_tool dist/macos/
mv dist/CryptoPriceTool.app dist/macos/
chmod +x dist/macos/crypto_price_tool
echo "æ‰“åŒ…å®Œæˆï¼"
```

---

## ğŸ”„ å¯¦ä½œæ­¥é©Ÿï¼ˆåˆ†éšæ®µï¼‰

### âœ… Phase 1: é‡æ§‹æ ¸å¿ƒé‚è¼¯ï¼ˆå·²å®Œæˆï¼‰
- [x] å»ºç«‹ `src/` ç›®éŒ„çµæ§‹
- [x] å°‡ `CoinGeckoPriceFetcher` ç§»åˆ° `src/core.py`
- [x] å°‡å…±ç”¨å‡½æ•¸ç§»åˆ° `src/utils.py`
- [x] ä¿®æ”¹ `crypto_price_tool.py` å¼•ç”¨æ–°æ¨¡çµ„ï¼ˆå¾…åšï¼‰
- [x] æ¸¬è©¦å‘½ä»¤åˆ—ç‰ˆæœ¬åŠŸèƒ½æ­£å¸¸ï¼ˆå¾…åšï¼‰

### âœ… Phase 2: å»ºç«‹åŸºç¤ GUIï¼ˆå·²å®Œæˆï¼‰
- [x] å®‰è£ CustomTkinterï¼š`pip install customtkinter pillow`
- [x] å»ºç«‹ `crypto_price_gui.py` åŸºç¤æ¡†æ¶
- [x] å¯¦ä½œ InputPanelï¼ˆå¹£ç¨®æ–‡å­—è¼¸å…¥ã€æ—¥æœŸè¼¸å…¥ã€API Keyï¼‰
- [x] å¯¦ä½œ QueryPanelï¼ˆæŸ¥è©¢æŒ‰éˆ•ã€é€²åº¦æ¢ï¼‰
- [x] æ¸¬è©¦åŸºæœ¬ UI é¡¯ç¤ºï¼ˆå¾…åšï¼‰

### âœ… Phase 3: æ•´åˆæŸ¥è©¢åŠŸèƒ½ï¼ˆå·²å®Œæˆï¼‰
- [x] ä¿®æ”¹ `src/core.py` æ”¯æ´é€²åº¦å›èª¿
- [x] åœ¨ GUI ä¸­æ•´åˆ CoinGeckoPriceFetcher
- [x] ä½¿ç”¨ threading é¿å… UI å‡çµ
- [x] å¯¦ä½œé€²åº¦æ¢é¡¯ç¤º
- [x] å¯¦ä½œçµæœè¡¨æ ¼é¡¯ç¤º
- [x] å¯¦ä½œçµ±è¨ˆè³‡è¨Šï¼ˆå¹³å‡åƒ¹ã€æœ€é«˜ã€æœ€ä½ï¼‰

### âœ… Phase 4: å®Œå–„ GUI åŠŸèƒ½ï¼ˆå·²å®Œæˆï¼‰
- [x] å¯¦ä½œåŒ¯å‡º CSV åŠŸèƒ½
- [x] å¯¦ä½œéŒ¯èª¤è™•ç†å’Œä½¿ç”¨è€…æç¤º
- [x] å¯¦ä½œè¼¸å…¥é©—è­‰ï¼ˆæ—¥æœŸç¯„åœã€å¹£ç¨®æª¢æŸ¥ï¼‰
- [x] ç¾åŒ– UIï¼ˆé…è‰²ã€å­—é«”ã€é–“è·ï¼‰

### â³ Phase 5: è·¨å¹³å°æ‰“åŒ…é…ç½®ï¼ˆå¾…åšï¼‰
- [ ] å»ºç«‹ `build_spec/` ç›®éŒ„
- [ ] ç·¨å¯« `cli.spec` å’Œ `gui.spec`
- [ ] æº–å‚™åœ–ç¤ºæª”æ¡ˆï¼ˆicon.ico, icon.icnsï¼‰
- [ ] åœ¨ Mac æ¸¬è©¦æ‰“åŒ…
- [ ] ç·¨å¯« Windows æ‰“åŒ…æŒ‡å—
- [ ] å»ºç«‹è‡ªå‹•åŒ–æ‰“åŒ…è…³æœ¬

### â³ Phase 6: æ¸¬è©¦èˆ‡æ–‡æª”ï¼ˆå¾…åšï¼‰
- [ ] ç·¨å¯«å–®å…ƒæ¸¬è©¦ï¼ˆ`tests/`ï¼‰
- [ ] æ›´æ–° README.mdï¼ˆæ–°å¢ GUI ä½¿ç”¨èªªæ˜ï¼‰
- [ ] æ›´æ–° PACKAGING.mdï¼ˆè·¨å¹³å°æ‰“åŒ…æŒ‡å—ï¼‰
- [ ] å»ºç«‹ CHANGELOG.md
- [ ] å»ºç«‹ä½¿ç”¨è€…æŒ‡å—ï¼ˆæˆªåœ– + æ­¥é©Ÿï¼‰

---

## ğŸ“Š æŠ€è¡“é¸å‹å°æ¯”

| æ–¹æ¡ˆ | CustomTkinter | PyQt5 | Kivy | Electron |
|------|---------------|-------|------|----------|
| **å­¸ç¿’æ›²ç·š** | â­â­ | â­â­â­â­ | â­â­â­ | â­â­â­â­â­ |
| **UI ç¾è§€åº¦** | â­â­â­â­ | â­â­â­â­â­ | â­â­â­ | â­â­â­â­â­ |
| **æ‰“åŒ…å¤§å° (Windows)** | 20 MB | 70 MB | 40 MB | 120 MB |
| **è·¨å¹³å°æ”¯æ´** | âœ… å®Œç¾ | âœ… å®Œç¾ | âœ… å®Œç¾ | âœ… å®Œç¾ |
| **PyInstaller ç›¸å®¹æ€§** | âœ… å„ªç§€ | âš ï¸ éœ€é¡å¤–é…ç½® | âš ï¸ éœ€é¡å¤–é…ç½® | âŒ ä¸é©ç”¨ |
| **æˆæ¬Š** | MIT | GPL/å•†æ¥­ | MIT | MIT |
| **åŸç”Ÿæ„Ÿ** | â­â­â­â­ | â­â­â­â­â­ | â­â­ | â­â­â­ |
| **é–‹ç™¼é€Ÿåº¦** | â­â­â­â­â­ | â­â­â­ | â­â­â­ | â­â­â­â­ |

**æ¨è–¦ç†ç”±ï¼šCustomTkinter**
- æœ€é©åˆéœ€æ±‚ï¼ˆç°¡å–® GUI + å°æª”æ¡ˆ + è·¨å¹³å°ï¼‰
- é–‹ç™¼é€Ÿåº¦å¿«ï¼Œ2-3 å°æ™‚å¯å®ŒæˆåŸºç¤ç‰ˆæœ¬
- æ‰“åŒ…é…ç½®ç°¡å–®ï¼Œèˆ‡ç¾æœ‰ PyInstaller å®Œç¾æ•´åˆ

---

## âš ï¸ é¢¨éšªè©•ä¼°èˆ‡è§£æ±ºæ–¹æ¡ˆ

| é¢¨éšª | å½±éŸ¿ | è§£æ±ºæ–¹æ¡ˆ |
|------|------|---------|
| **Windows ç’°å¢ƒæ²’æœ‰ Python** | é«˜ | ä½¿ç”¨ PyInstaller `--onefile` æ‰“åŒ…æˆå–®ä¸€ .exeï¼ŒåŒ…å«æ‰€æœ‰ä¾è³´ |
| **Windows Defender èª¤åˆ¤ç‚ºç—…æ¯’** | ä¸­ | æä¾›å®˜æ–¹æ–‡æª”èªªæ˜ã€ä½¿ç”¨ç¨‹å¼ç¢¼ç°½ç« ï¼ˆéœ€è³¼è²·è­‰æ›¸ï¼‰|
| **GUI åœ¨é«˜è§£æåº¦è¢å¹•é¡¯ç¤ºæ¨¡ç³Š** | ä¸­ | CustomTkinter å·²æ”¯æ´ DPI scalingï¼Œéœ€åœ¨ spec åŠ å…¥é…ç½® |
| **ä¸åŒä½œæ¥­ç³»çµ±æ—¥æœŸé¸æ“‡å™¨æ¨£å¼ä¸ä¸€** | ä½ | ä½¿ç”¨ CustomTkinter çµ±ä¸€æ¨£å¼ï¼Œæˆ–ä½¿ç”¨ tkcalendar å¥—ä»¶ |
| **API Key å®‰å…¨æ€§** | ä¸­ | æ˜ç¢ºå‘ŠçŸ¥ä½¿ç”¨è€…ä¸å„²å­˜ã€ä½¿ç”¨ keyring å¥—ä»¶åŠ å¯†å„²å­˜ï¼ˆé€²éšåŠŸèƒ½ï¼‰|
| **æ‰“åŒ…æª”æ¡ˆéå¤§** | ä½ | æ’é™¤ matplotlibã€numpy ç­‰éå¿…è¦åº«ï¼Œå„ªåŒ–åˆ° 15-20 MB |

---

## ğŸ’° æˆæœ¬èˆ‡æ™‚é–“ä¼°ç®—

| éšæ®µ | é ä¼°æ™‚é–“ | é›£åº¦ | å„ªå…ˆç´š |
|------|---------|------|--------|
| Phase 1: é‡æ§‹æ ¸å¿ƒ | 1-2 å°æ™‚ | â­â­ | ğŸ”´ P0 |
| Phase 2: å»ºç«‹ GUI | 2-3 å°æ™‚ | â­â­â­ | ğŸ”´ P0 |
| Phase 3: æ•´åˆåŠŸèƒ½ | 2-3 å°æ™‚ | â­â­â­ | ğŸ”´ P0 |
| Phase 4: å®Œå–„åŠŸèƒ½ | 1-2 å°æ™‚ | â­â­ | ğŸŸ¡ P1 |
| Phase 5: è·¨å¹³å°æ‰“åŒ… | 2-3 å°æ™‚ | â­â­â­â­ | ğŸ”´ P0 |
| Phase 6: æ¸¬è©¦æ–‡æª” | 1 å°æ™‚ | â­ | ğŸŸ¡ P1 |
| **ç¸½è¨ˆ** | **9-14 å°æ™‚** | - | - |

---

## ğŸ“ ä¾è³´æ›´æ–°

### requirements.txt

```
# æ ¸å¿ƒä¾è³´
requests==2.31.0
customtkinter==5.2.0
pillow==10.1.0
pyinstaller==6.3.0

# å¯é¸ï¼šæ—¥æœŸé¸æ“‡å™¨ï¼ˆæ›´ç¾è§€ï¼‰
# tkcalendar==1.6.1
```

### requirements-dev.txt

```
pytest==7.4.3
pytest-cov==4.1.0
black==23.11.0
flake8==6.1.0
```

---

## ğŸ æœªä¾†åŠŸèƒ½å»ºè­°ï¼ˆv2.1+ï¼‰

| åŠŸèƒ½ | å„ªå…ˆç´š | é ä¼°æ™‚é–“ | åƒ¹å€¼ |
|------|--------|---------|------|
| åƒ¹æ ¼åœ–è¡¨é¡¯ç¤ºï¼ˆmatplotlibï¼‰ | ğŸŸ¡ P2 | 2 å°æ™‚ | â­â­â­â­ |
| API Key åŠ å¯†å„²å­˜ | ğŸŸ¢ P3 | 1 å°æ™‚ | â­â­â­ |
| å¤šå¹£ç¨®åŒæ™‚æŸ¥è©¢ | ğŸŸ¡ P2 | 3 å°æ™‚ | â­â­â­â­ |
| åŒ¯å‡º Excel æ ¼å¼ | ğŸŸ¢ P3 | 1 å°æ™‚ | â­â­ |
| æ·±è‰²/æ·ºè‰²ä¸»é¡Œåˆ‡æ› | ğŸŸ¢ P3 | 0.5 å°æ™‚ | â­â­â­ |
| è‡ªå‹•æ›´æ–°æª¢æŸ¥ | ğŸŸ¢ P3 | 2 å°æ™‚ | â­â­ |
| å¤šèªè¨€æ”¯æ´ï¼ˆè‹±æ–‡ï¼‰ | ğŸ”µ P4 | 3 å°æ™‚ | â­â­ |
| è¤‡è£½åˆ°å‰ªè²¼ç°¿åŠŸèƒ½ | ğŸŸ¡ P2 | 0.5 å°æ™‚ | â­â­â­ |
| å–æ¶ˆæŸ¥è©¢åŠŸèƒ½ | ğŸŸ¡ P2 | 1 å°æ™‚ | â­â­â­ |

---

## âœ… äº¤ä»˜æˆæœ

å¯¦ä½œå®Œæˆå¾Œå°‡ç²å¾—ï¼š

1. **å‘½ä»¤åˆ—ç‰ˆæœ¬**ï¼ˆä¿ç•™ï¼‰
   - `dist/macos/crypto_price_tool`
   - `dist/windows/crypto_price_tool.exe`

2. **GUI ç‰ˆæœ¬**ï¼ˆæ–°å¢ï¼‰
   - `dist/macos/CryptoPriceTool.app`
   - `dist/windows/CryptoPriceTool.exe`

3. **æ¨¡çµ„åŒ–ç¨‹å¼ç¢¼**
   - `src/core.py` - æ ¸å¿ƒé‚è¼¯
   - `src/utils.py` - å…±ç”¨å·¥å…·
   - `src/constants.py` - å¸¸æ•¸å®šç¾©

4. **æ–‡æª”**
   - README.mdï¼ˆå« GUI ä½¿ç”¨èªªæ˜ï¼‰
   - PACKAGING.mdï¼ˆè·¨å¹³å°æ‰“åŒ…æŒ‡å—ï¼‰
   - CHANGELOG.mdï¼ˆç‰ˆæœ¬è¨˜éŒ„ï¼‰

5. **è‡ªå‹•åŒ–è…³æœ¬**
   - `build_spec/build_macos.sh`
   - `build_spec/build_windows.bat`

---

## ğŸ“š åƒè€ƒè³‡æº

- [CustomTkinter å®˜æ–¹æ–‡æª”](https://customtkinter.tomschimansky.com/)
- [PyInstaller å®˜æ–¹æ–‡æª”](https://pyinstaller.org/en/stable/)
- [CoinGecko API æ–‡æª”](https://www.coingecko.com/en/api/documentation)
- [Python Threading æ•™å­¸](https://docs.python.org/3/library/threading.html)

---

## ğŸ“… ç‰ˆæœ¬è¨˜éŒ„

### v2.0.0 MVP (2025-11-14)
- âœ… æ ¸å¿ƒé‚è¼¯æ¨¡çµ„åŒ–
- âœ… å»ºç«‹ GUI åŸºç¤æ¡†æ¶
- âœ… æ•´åˆæŸ¥è©¢åŠŸèƒ½
- âœ… å¯¦ä½œçµ±è¨ˆè³‡è¨Šé¡¯ç¤º
- âœ… å¯¦ä½œ CSV åŒ¯å‡ºåŠŸèƒ½

### v2.1.0 (è¨ˆåŠƒä¸­)
- â³ åƒ¹æ ¼åœ–è¡¨é¡¯ç¤º
- â³ è¤‡è£½åˆ°å‰ªè²¼ç°¿
- â³ å–æ¶ˆæŸ¥è©¢åŠŸèƒ½
- â³ è·¨å¹³å°æ‰“åŒ…é…ç½®

---

**æœ€å¾Œæ›´æ–°ï¼š** 2025-11-14
**ç¶­è­·è€…ï¼š** Howard Chang
